<!--
~ ©2009-2018 南京擎盾信息科技有限公司 All rights reserved.
-->

<idea-plugin>
  <id>com.wuhao.code.check</id>
  <name>Aegis Code Check Plugin</name>
  <version>1.3.3.1</version>
  <vendor email="wuhao@aegis-data.cn"/>

  <description><![CDATA[
      This plugin is write for check specific code style for our company.
      and it supports both java and kotlin.<br>
      Otherwise, it provided some additional features, such as:
      <ul>
        <li>rearrange kotlin source code when reformatting like java</li>
        <li>rearrange tag attributes for .vue files when reformatting</li>
        <li>add gutters for mybatis mapper interfaces and mapping xml files,
         you can jump from the interface methods to the mapping file tag or the opposite,
         </li>
        <li>
          add code completion when inject property for spring boot applications use the annotation @Value
        </li>
      <ul>
      bug fix:
      <ul>
        <li>
          fix errors when reformat kotlin enum class
        </li>
      </ul>
    ]]></description>
  <change-notes><![CDATA[
      <br>
    ]]>
  </change-notes>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
  <idea-version since-build="145.0"/>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
       on how to target different products -->
  <!-- uncomment to enable plugin in all products
  <depends>com.intellij.modules.lang</depends>
  -->

  <extensions defaultExtensionNs="com.intellij">
    <postStartupActivity implementation="com.wuhao.code.check.PostStart"/>
    <lang.rearranger language="kotlin"
                     implementationClass="com.wuhao.code.check.style.arrangement.kotlin.KotlinRearranger"/>
    <lang.rearranger language="Vue"
                     implementationClass="com.wuhao.code.check.style.arrangement.vue.VueRearranger"/>
    <completion.contributor
        implementationClass="com.wuhao.code.check.completion.SpringBootConfigValueInjectCodeCompletion"
        language="JAVA" order="FIRST"/>
    <completion.contributor
        implementationClass="com.wuhao.code.check.completion.SpringBootConfigValueInjectCodeCompletion"
        language="kotlin" order="FIRST"/>
    <inspectionToolProvider id="aegis.code.check.inspection"
                            order="FIRST"
                            implementation="com.wuhao.code.check.inspection.CheckProvider"/>
    <gotoDeclarationHandler
        implementation="com.wuhao.code.check.gotohandler.GotoSpringBootConfigPropertyDeclarationHandler"/>
    <gotoDeclarationHandler implementation="com.wuhao.code.check.gotohandler.MyGotoDeclarationHandler2"/>
    <preFormatProcessor implementation="com.wuhao.code.check.processors.VueAttrFixPreProcessor"
                        id="VueAttrFixProcessor" order="last"/>
    <preFormatProcessor implementation="com.wuhao.code.check.processors.FixKotlinPreProcessor"
                        id="FixKotlinPreProcessor" order="first"/>
    <postFormatProcessor implementation="com.wuhao.code.check.processors.VueAttrsWhitespaceFixPostProcessor"
                         id="VueAttrsWhitespaceFixProcessor" order="last"/>
    <postFormatProcessor implementation="com.wuhao.code.check.processors.FixVueTemplateExpressionPostProcessor"
                         id="FixVueTemplateExpressionProcessor" order="first"/>
    <postFormatProcessor implementation="com.wuhao.code.check.processors.FixJavaBlankLinePostProcessor"
                         id="FixJavaBlankLineProcessor" order="last"/>
    <postFormatProcessor implementation="com.wuhao.code.check.processors.FixKotlinPostProcessor"
                         id="FixKotlinProcessor" order="last"/>
    <codeInsight.lineMarkerProvider
        implementationClass="com.wuhao.code.check.processors.MybatisMapperClassLineMarkerProvider"
        id="MybatisMapperClassLineMarkerProvider" language="JAVA"/>
    <codeInsight.lineMarkerProvider
        implementationClass="com.wuhao.code.check.processors.MybatisMapperClassLineMarkerProvider"
        id="MybatisMapperClassLineMarkerProviderKotlin" language="kotlin"/>
    <codeInsight.lineMarkerProvider
        implementationClass="com.wuhao.code.check.processors.MybatisMapperFileLineMarkerProvider"
        id="MybatisMapperFileLineMarkerProvider2" language="XML"/>
    <applicationConfigurable
        instance="com.wuhao.code.check.ui.AegisPluginSettingsConfigurable"/>
    <applicationService
        serviceImplementation="com.wuhao.code.check.ui.PluginSettings"/>
  </extensions>

  <actions>
    <action id="CreateVueProject" class="com.wuhao.code.check.action.CreateVueProjectAction" text="Aegis Vue Project"
            description="新建Vue项目">
      <add-to-group group-id="NewGroup" anchor="first"/>
    </action>
  </actions>

  <application-components/>
  <depends>org.jetbrains.kotlin</depends>
  <depends>com.intellij.modules.json</depends>
  <depends>com.intellij.spring</depends>
  <depends>com.intellij.spring.boot</depends>
  <depends>org.jetbrains.plugins.vue</depends>
</idea-plugin>

